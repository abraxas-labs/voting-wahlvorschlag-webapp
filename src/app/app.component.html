<header>
  @if (hasTenant) {
    <bc-app-header-bar-iam
      logo="VO"
      [link]="['/', theme]"
      [settingsLabel]="'Label'"
      [showAppDrawer]="true"
      [signOutLabel]="'Logout'"
      [title]="appTitle"
      [customLogoPath]="customLogo ?? ''"
    >
      <vo-lib-environment-chip></vo-lib-environment-chip>
    </bc-app-header-bar-iam>
  } @else {
    <bc-app-header-bar [link]="['/', theme]" [title]="appTitle" logo="VO"></bc-app-header-bar>
  }
</header>
@if (!loading && hasTenant) {
  <main style="display: flex">
    <bc-snackbar
      #snackbar
      action="{{ 'COMMENTS.DISCARD' | translate }}"
      horizontalPosition="right"
      message=""
      variant="info"
      verticalPosition="top"
    >
    </bc-snackbar>
    <div>
      <bc-nav-layout #drawer>
        <bc-nav-drawer [mode]="'side'" [opened]="true">
          <bc-nav-group label="{{ 'ELECTION' | translate }}">
            <bc-nav-item
              label="{{ 'OVERVIEW' | translate }}"
              link="/{{ theme }}/elections/overview"
              target="self"
              (click)="this.activateOverview()"
              [active]="!this.isArchive && this.isOverview && !this.isBaseData && !this.isUserManagement"
            ></bc-nav-item>
            <bc-nav-item
              label="{{ 'ARCHIVE' | translate }}"
              link="/{{ theme }}/elections/archive"
              target="self"
              (click)="this.activateArchive()"
              [active]="this.isArchive && !this.isOverview && !this.isBaseData && !this.isUserManagement"
            ></bc-nav-item>
          </bc-nav-group>
          @if (this.isWahlverwalter) {
            <bc-nav-group label="{{ 'ADMINISTRATION' | translate }}">
              <bc-nav-item
                label="{{ 'BASE-DATA' | translate }}"
                link="/{{ theme }}/administration/base-data"
                target="self"
                (click)="this.activateBaseData()"
                [active]="!this.isArchive && !this.isOverview && this.isBaseData && !this.isUserManagement"
              ></bc-nav-item>
              <bc-nav-item
                label="{{ 'USER-MANAGEMENT' | translate }}"
                link="/{{ theme }}/administration/permissions"
                target="self"
                (click)="this.activateUserManagement()"
                [active]="!this.isArchive && !this.isOverview && !this.isBaseData && this.isUserManagement"
              ></bc-nav-item>
            </bc-nav-group>
          }
        </bc-nav-drawer>
        <div style="height: 400px"></div>
      </bc-nav-layout>
    </div>
    <router-outlet></router-outlet>
  </main>
} @else {
  <div class="p-5">
    @if (!loading) {
      <p translate>APPLICATION.NO_PERMISSIONS</p>
      <div>
        <bc-button (buttonClick)="reload()" [label]="'APPLICATION.RELOAD' | translate"></bc-button>
        <bc-button
          class="ml-2"
          (buttonClick)="logout()"
          [label]="'APPLICATION.LOGOUT' | translate"
        ></bc-button>
      </div>
    } @else {
      <h1>
        <bc-spinner class="mr-1"></bc-spinner>
        {{ 'COMMON.LOADING' | translate }}
      </h1>
    }
  </div>
}
